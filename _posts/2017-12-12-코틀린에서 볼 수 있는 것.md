---
layout: post
title: '코틀린을 쓰면 볼 수 있는 몇가지'
date: 2017-12-12
author: LNTCS
tags: 안드소전
---
# 코틀린을 쓰면 볼 수 있는 몇가지
정말 기본적으로 몇가지만 나열해 보면<br>

----

## 0. JAVA 호환성
- IDE에서 기존 자바 코드를 자동으로 코틀린으로 변환작업을 해준다. 
- 기존의 거의 모든 (예외는 본 적이 없지만) 라이브러리를 그대로 코틀린으로 생성된 프로젝트에서 이용가능하다.
- 코틀린 프로젝트 내부에 따로 자바파일을 만들어도 기존에 하던 방식 그대로 사용이 가능하다.
(본인도 초창기에 기본적으로는 코틀린을 이용하다가 약간 복잡한 코딩의 경우에는 자바로 작성을 하여 사용했다)

----

## 1. 기본 문법
코틀린은 이상한데서 튀어나온 듣보잡 언어는 아니다.
기본 문법을 보면 swift 혹은 js 계열 쪽과의 닮은 점을 많이 찾아볼 수 있다.
```kotlin
class Foo {

    val str: String = "asdf"     
	// val : 수정 불가능한 변수 final이라 보자
    
	var i: Int = 0          
	// var : 수정이 가능한 일반 변수
	
	var i2 = 0				
	// 변수형을 따로 선언을 해주지 않아도 자동이다
	
	// void hello(){} 와 같으며 함수는 fun으로 표기 
    fun hello() {			
        val str = "Hello"
        print("$str World")		// 아래에 다시 나옴
    }
	
	// int sum(int x, int y) {  }
    fun sum(x: Int, y: Int): Int {
        return x + y
    }
	
    fun maxOf(a: Float, b: Float) = if (a > b) a else b
	/*
	 fun maxOf(a: Float, b: Float): Float {
	 	return if (a > b) a else b
	 }
	 의 형태를 줄인 것으로 함수 뒤에 =을 통해 리턴값을 지정 가능
	*/
}
```
위 코드를 보면 알 수 있듯이 약간의 변형을 기억한다면 이용이 가능할 정도이다.
(스위프트를 써보았다면 더욱 적응하기 쉽다)

----

## 2. 문자열 응용
문자열 중간에 변수값을 넣어 출력을 하던 경험은 많을 것이다.
`int a = 1;`
`print(String.format("asdf %d asdf", a);`

혹은 이것 또한 귀찮았다면
`print("asdf " + a + " asdf");`  (장담한다 이랬을 것이다.)

하지만 이를 코틀린에서는
`print("asdf $a asdf")` 
의 방식으로 $뒤에 변수를 넣어주면 바로 이용이 가능하다.

만일 식이 필요할 때는 ${} 를 이용하자
`print("asdf ${a + 1} asdf")`

----

## 3. 변수형 추정
코틀린에서는 var 뒤에 추가적인 변수형을 입력받지 않을 수 있기 때문에 자동으로 변수가 들어갈 때 변수의 변수형을 판단해준다.
```kotlin
val a = 3
// 숫자(정수)가 들어갔기에 자동적으로 Int라 판단 (코틀린에선 Int 사용)	

val b = "asdf"
// "" 즉 문자열이 들어갔기에 자동적으로 String이라 판단

val c: Float = 0.7f // 직접적으로 변수형을 선언할 수도 있다
val d: List<String> = ArrayList()
```

## 4. 클래스 인자 + 옵셔널
```kotlin
class User(name: String, email: String, count: Int)
```
이런 클래스가 있다고 할 때 가장 기본적인 형태는

```kotlin
var user = User("name", "mail", 0)
```
당연히 이름, 이메일, 카운트 의 순서대로이다.

하지만 생성자에 명시되어 있는 변수명과 함께 사용할 경우 이들의 순서는 의미가 없어진다.

```kotlin
var user1 = User(name = "name", email = "mail", count = 0)
var user2 = User(count = 0, name = "name", email = "mail")
var user3 = User(email = "mail", name = "name", count = 0)
// 위 전부 문제가 없는 문법이다.
```
이걸 어따 써먹냐는 생각도 들겠지만 디폴트 인자를 이용할 경우 쓰임새가 늘어난다.<br><br>
User의 생성자를 조금 바꿔서
```kotlin
class User(name: String, email: String = "", count: Int = 0)
// 이럴 경우 사실상 User는 name 값만 받아도 충분 하다
```
```kotlin
var user = User("name")
// 이럴 경우 `email`에는 "", `count`에는 기본값으로 설정된 0이 들어간다.
```
<br>위의 내용과 연계를 시킨다면
```kotlin
var user = User("name", count = 10)
// email은 기본값인 "" 가 들어간 반면 나머지 데이터는 원하는 값을 넣을수가 있다.
```
<br>
이들을 응용하면 변수 한 두개의 차이로 클래스에 생성자를 무자비하게 생성해야하는 상황을 모면할 수 있다.

----

## 5. When 용법
간단히 switch ~ case 의 업그레이드 버전이다.
```kotlin
when (i) {
    1 -> print("i 는 1이다")
    2 -> print("i 는 2이다")
    3, 4, 5 -> print("i 는 3, 4, 5  중에 하나")
    in 6..10 -> print("i 는 6~10 중에 하나")
    else -> print("i 모름")
}
```
이렇게만 보면 switch ~ case 와 거의 같다.

```kotlin
var str = when {
	n == null  -> "n은 null"
    n is String -> "n은 문자열"
    n is Int -> "n은 정수"
	else -> ""
}
```
이런식으로 if~else if 의 확장판으로 여길수도 있고 바로 변수안에 데이터를 넣을 수도 있다

----

## 6. run apply let

----

## 7. null safety

----

쓰다보니 어디까지 써야할 지 모르겠으니 특징적인 것은 다 적었다고 치고 이만 마치는 것으로